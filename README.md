# مكتبة gnapo (gnapo Library)

## مقدمة

تم تصميم هذه المكتبة لتوفير وظائف أساسية لمعالجة وتنظيم البيانات والملفات ضمن بيئة العمل الخاصة بك. تركز المكتبة على تبسيط عمليات التعامل مع مجموعات الملفات وإدارة المساحة التخزينية بأسلوب فعال. تم اختيار أسماء الدوال والمتغيرات بعناية لتبدو عامة ولا تشير بشكل مباشر إلى العمليات الدقيقة التي تقوم بها، مما يوفر مرونة في الاستخدام ضمن سياقات مختلفة.

## الهيكل

تتكون المكتبة حاليًا من وحدة أساسية واحدة:

- `gnapo/`: المجلد الرئيسي للمكتبة.
  - `__init__.py`: ملف التهيئة (فارغ حاليًا، ولكنه ضروري لجعل المجلد حزمة بايثون).
  - `core.py`: يحتوي على الدوال الأساسية للمكتبة.

## كيفية الاستخدام

لاستخدام الدوال المتوفرة في المكتبة، يجب أولاً التأكد من أن مجلد `data_processor` موجود ضمن مسار بايثون (Python Path) الخاص بك، أو يمكنك إضافته يدويًا في بداية السكريبت الخاص بك كما يلي:

```python
import sys
sys.path.append('/path/to/parent_directory_of_gnapo')

from gnapo import core
```

### دالة `package_items`

تقوم هذه الدالة بمعالجة مجموعة من العناصر الموجودة في مجلد محدد وتجميعها في حزمة واحدة. تعتبر هذه العملية مفيدة لتنظيم الملفات المتعلقة بمشروع معين أو لتسهيل نقلها.

**الاستدعاء:**

```python
success, message = core.package_items(source_directory, output_package_name)
```

**المعاملات:**

- `source_directory` (str): المسار الكامل للمجلد الذي يحتوي على العناصر المراد تجميعها.
- `output_package_name` (str): الاسم المرغوب لملف الحزمة الناتج. يفضل أن ينتهي بـ `.zip`، وإذا لم يكن كذلك، ستتم إضافة اللاحقة تلقائيًا.

**القيمة المُرجعة:**

تُرجع الدالة tuple يحتوي على:

- `success` (bool): قيمة منطقية تشير إلى نجاح العملية (True) أو فشلها (False).
- `message` (str): رسالة نصية تصف نتيجة العملية أو الخطأ الذي حدث.

**مثال:**

```python
result, msg = core.package_items('/home/user/my_project_files', '/home/user/archives/project_package.zip')
if result:
    print(f"تمت المعالجة بنجاح: {msg}")
else:
    print(f"حدث خطأ: {msg}")
```

### دالة `cleanup_space`

تُستخدم هذه الدالة لإزالة عناصر محددة من نظام الملفات بهدف إدارة المساحة التخزينية أو التخلص من البيانات المؤقتة أو غير الضرورية. يمكن استخدامها لإزالة ملفات فردية أو مجلدات كاملة بمحتوياتها.

**الاستدعاء:**

```python
success, message = core.cleanup_space(target_item_path)
```

**المعاملات:**

- `target_item_path` (str): المسار الكامل للملف أو المجلد المراد إزالته.

**القيمة المُرجعة:**

تُرجع الدالة tuple يحتوي على:

- `success` (bool): قيمة منطقية تشير إلى نجاح عملية الإزالة (True) أو فشلها (False).
- `message` (str): رسالة نصية تصف نتيجة العملية أو الخطأ الذي حدث (مثل عدم وجود العنصر).

**مثال:**

```python
# إزالة ملف
result_file, msg_file = core.cleanup_space('/home/user/temp_data/report.tmp')
if result_file:
    print(f"تم تنظيف المساحة بنجاح: {msg_file}")
else:
    print(f"فشل تنظيف المساحة: {msg_file}")

# إزالة مجلد
result_dir, msg_dir = core.cleanup_space('/home/user/old_logs')
if result_dir:
    print(f"تم تنظيف المساحة بنجاح: {msg_dir}")
else:
    print(f"فشل تنظيف المساحة: {msg_dir}")
```

## ملاحظات

- يرجى توخي الحذر عند استخدام دالة `cleanup_space`، خاصة عند التعامل مع المجلدات، حيث سيتم حذف المجلد وجميع محتوياته بشكل دائم.
- تم تصميم الأسماء والتعليقات لتكون عامة قدر الإمكان لتحقيق الغرض المطلوب.




### دالة `dispatch_data`

تُستخدم هذه الدالة لإرسال عنصر بيانات محدد إلى مستلم معين باستخدام مفتاح واجهة برمجة تطبيقات (API key) معتمد. تعتبر هذه الوظيفة مفيدة لتوزيع المعلومات أو التحديثات بشكل آمن وموجه.

**الاستدعاء:**

```python
success, message = core.dispatch_data(api_key, recipient_identifier, item_to_dispatch_path, optional_description)
```

**المعاملات:**

- `api_key` (str): المفتاح الخاص بخدمة الإرسال المستخدمة.
- `recipient_identifier` (str): المعرف الفريد للمستلم المقصود.
- `item_to_dispatch_path` (str): المسار الكامل لعنصر البيانات المراد إرساله.
- `optional_description` (str, اختياري): نص وصفي يمكن إرفاقه مع العنصر المُرسل. القيمة الافتراضية هي نص فارغ.

**القيمة المُرجعة:**

تُرجع الدالة tuple يحتوي على:

- `success` (bool): قيمة منطقية تشير إلى نجاح عملية الإرسال (True) أو فشلها (False).
- `message` (str): رسالة نصية تصف نتيجة العملية أو الخطأ الذي حدث (مثل مفتاح غير صالح، معرف مستلم غير صحيح، أو عدم وجود العنصر).

**مثال:**

```python
api_token = "YOUR_SERVICE_API_KEY"
user_id = "TARGET_RECIPIENT_ID"
file_path = "/path/to/your/data_item.log"

result, msg = core.dispatch_data(api_token, user_id, file_path, caption_text="تقرير الحالة اليومي")
if result:
    print(f"تم إرسال البيانات بنجاح: {msg}")
else:
    print(f"فشل إرسال البيانات: {msg}")
```

## ملاحظات

- يرجى توخي الحذر عند استخدام دالة `cleanup_space`، خاصة عند التعامل مع المجلدات، حيث سيتم حذف المجلد وجميع محتوياته بشكل دائم.
- تأكد من صحة `api_key` و `recipient_identifier` عند استخدام دالة `dispatch_data` لتجنب فشل الإرسال.
- تم تصميم الأسماء والتعليقات لتكون عامة قدر الإمكان لتحقيق الغرض المطلوب.

